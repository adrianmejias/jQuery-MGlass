!function(a){a.mglass=function(b,c){var d={large:"example-large.jpg"},f=a(b),g={};g=a.extend({},d,c),g.largeImage=a("<img>").attr("src",g.large);var h=new Image;h.src=g.large;var i=f.width(),j=f.height();return f.css("border-top-width"),f.addClass("mglass-photo").wrap(a("<div>").addClass("mglass-wrapper").css({width:parseInt(i)+"px",height:parseInt(j)+"px"}).mousemove(function(b){var c=a(this).find(".mglass-viewer"),d=a(this).find("img"),e={x:a("body").offset().left,y:a("body").offset().top},f={x:a(d).offset().left,y:a(d).offset().top};if(f.x<=b.clientX+e.x&&f.y<=b.clientY+e.y&&f.x+d.outerWidth()>=b.clientX+e.x&&f.y+d.outerHeight()>=b.clientY+e.y){var g=b.clientX+e.x,i=b.clientY+e.y;c.css({visibility:"visible",left:g-c.outerWidth()/2+"px",top:i-c.outerHeight()/2+"px"});var j=g-f.x,k=i-f.y,l=j*(h.width-c.outerWidth())/d.outerWidth(),m=k*(h.height-c.outerHeight())/d.outerHeight();c.css("background-position",-l+"px "+-m+"px")}else c.css("visibility","hidden")}).hover(function(){},function(b){var c=a(this).find(".mglass-viewer"),d=a(this).find("img"),e={x:a("body").offset().left,y:a("body").offset().top},f={x:a(d).offset().left,y:a(d).offset().top};f.x<=b.clientX+e.x&&f.y<=b.clientY+e.y&&f.x+d.outerWidth()>=b.clientX+e.x&&f.y+d.outerHeight()>=b.clientY+e.y||c.css("visibility","hidden")})).wrap(a("<div>").addClass("mglass-photo-box").css({width:parseInt(i)+"px",height:parseInt(j)+"px"})).parent().parent().prepend(a("<div>").addClass("mglass-viewer").css("background-image","url("+g.large+")")),!0},a.fn.mglass=function(b){return this.each(function(){if(void 0===a(this).data("mglass")){var c=new a.mglass(this,b);a(this).data("mglass",c).addClass("mglass-photo")}})}}(jQuery);